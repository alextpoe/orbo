{"version":3,"sources":["webpack:///webpack/bootstrap 7867a6de29d8a9f6a0a1","webpack:///./lib/orbo.js","webpack:///./lib/game_view.js","webpack:///./lib/game.js","webpack:///./lib/utils.js","webpack:///./lib/moving_object.js","webpack:///./lib/small_orb.js","webpack:///./lib/orb.js","webpack:///./lib/enemy.js","webpack:///./lib/orb_time_bar.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;AChFA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB,eAAe;AAChC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,uBAAuB;AACpC,oBAAmB,uBAAuB;AAC1C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;;;AAIA;;;;;;;;AC1JA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;AClDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;;;;;;;AC7BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kCAAiC,mBAAmB,EAAE;AACtD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;AAIA;;;;;;;AC/DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;;;;;;ACxBA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;AC3CA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7867a6de29d8a9f6a0a1\n **/","var GameView = require('./game_view');\n\nvar canvas = document.getElementById('canvas');\n\nvar ctx = canvas.getContext('2d');\n\nvar orbo = new GameView(canvas, ctx);\n\norbo.start();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/orbo.js\n ** module id = 0\n ** module chunks = 0\n **/","var Game = require('./game');\n// var CanvasState = require('./canvas_state');\nvar GameView = function (canvas, ctx) {\n  this.canvas = canvas;\n  this.game = new Game();\n  this.ctx = ctx;\n  this.moving = false;\n};\n\n\nGameView.prototype.start = function (canvas) {\n  this.canvas.addEventListener(\"mousedown\", this.clickOrb.bind(this), false);\n  this.canvas.addEventListener(\"mousemove\", this.moveOrb.bind(this), false);\n  this.canvas.addEventListener(\"mouseup\", this.unClickOrb.bind(this), false);\n  window.addEventListener(\"keydown\", this.spaceDown.bind(this), false);\n\n  this.lastTime = 0;\n\n  requestAnimationFrame(this.animate.bind(this));\n};\n\n\nGameView.prototype.spaceDown = function (e){\n  var game = this.game;\n  // debugger\n  if (e.code === \"Space\"){\n    this.game.makeOrbs(game);\n  }\n};\n\nGameView.prototype.getMouse = function (e) {\n  var canvasRect = this.canvas.getBoundingClientRect();\n  mouseX = (e.clientX - canvasRect.left);\n  mouseY = (e.clientY - canvasRect.top);\n\n  return [mouseX, mouseY];\n};\n\nGameView.prototype.clickOrb = function (e) {\n  var mousePos = this.getMouse(e);\n  this.game.toggleMoving(mousePos[0], mousePos[1], this.ctx);\n  this.moving = true;\n};\n\nGameView.prototype.moveOrb = function (e) {\n  var mousePos = this.getMouse(e);\n  if (this.moving) {\n    this.game.attemptMove(mousePos[0], mousePos[1]);\n  }\n};\n\nGameView.prototype.unClickOrb = function (e) {\n  // debugger\n  var mousePos = this.getMouse(e);\n  if (this.moving) {\n    this.game.smallOrbs.forEach(function (orb) {\n\n      if (orb.clicked) {\n        orb.setVel(orb.moves);\n\n        orb.clicked = false;\n      }\n    });\n  }\n  this.moving = false;\n  // this.game.toggleMoving(mousePos[0], mousePos[1]);\n};\n\nGameView.prototype.animate = function (time){\n  var timeDelta = time - this.lastTime;\n  // this.smallOrbs.forEach(function (orb) {\n  //   orb.move();\n  // });\n  this.game.step(timeDelta);\n  this.game.draw(this.ctx);\n  this.lastTime = time;\n\n  requestAnimationFrame(this.animate.bind(this));\n};\n\nmodule.exports = GameView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game_view.js\n ** module id = 1\n ** module chunks = 0\n **/","var Utils = require('./utils');\nvar MovingObject = require('./moving_object');\nvar SmallOrb = require('./small_orb');\nvar Orb = require('./orb');\nvar OrbTimeBar = require('./orb_time_bar');\nvar Enemy = require('./enemy');\n\nvar Game = function () {\n  this.DIM_X = 800;\n  this.DIM_Y = 800;\n  this.orb = new Orb (this);\n  this.orbTimeBar = new OrbTimeBar(this.orb);\n  this.smallOrbs = [];\n  this.newOrbs = [];\n  this.enemies = [];\n  this.moves = [];\n  this.makeEnemies();\n  this.orbTimeRefill();\n};\n\n\nGame.prototype.draw = function(ctx){\n  ctx.clearRect(0, 0, this.DIM_X, this.DIM_Y);\n  this.orbTimeBar.draw(ctx);\n  this.allObjects().forEach(function (object) {\n    object.draw(ctx);\n  });\n};\n\nGame.prototype.moveObjects = function () {\n  this.movingObjects().forEach(function(object) {\n    object.move();\n  });\n};\n\nGame.prototype.makeOrbs = function (game) {\n  var that = this;\n  that.newOrbs = [];\n  // debugger\n  var orbNumber = (this.orb.orbTime / 10).toFixed();\n  for (var i = 0; i < orbNumber; i++) {\n    that.newOrbs.push(new SmallOrb(game));\n  }\n\n  this.orb.orbTime = 0;\n  this.smallOrbs = that.newOrbs.concat(this.smallOrbs);\n  // debugger\n};\n\nGame.prototype.makeEnemies = function () {\n  var that = this;\n  setInterval(function () {\n    that.enemies.push(new Enemy());\n  }, 1500);\n};\n\nGame.prototype.toggleMoving = function (mousePosX, mousePosY, ctx, orbClicked){\n  this.smallOrbs.forEach(function (orb) {\n    if (orb.includesPos(mousePosX, mousePosY, ctx)) {\n      orb.clicked = true;\n    }\n  });\n};\n\nGame.prototype.attemptMove = function (mousePosX, mousePosY) {\n  this.smallOrbs.forEach(function (orb) {\n    if(orb.clicked){\n      orb.mouseMove(mousePosX, mousePosY);\n    }\n  });\n};\n\nGame.prototype.initMove = function () {\n  this.newOrbs.forEach(function(orb) {\n    orb.move();\n  });\n\n};\n\nGame.prototype.step = function () {\n  this.moveObjects();\n  this.checkCollisions();\n};\n\nGame.prototype.allObjects = function () {\n\n  return this.smallOrbs.concat(this.orb).concat(this.enemies);\n};\n\nGame.prototype.movingObjects = function () {\n  return this.smallOrbs.concat(this.enemies);\n};\n\nGame.prototype.checkCollisions = function () {\n  var that = this;\n  var allObjects = this.allObjects();\n  for (i = 0; i < allObjects.length; i++) {\n    for (j = i + 1; j < allObjects.length; j++) {\n      var obj1 = allObjects[i];\n      var obj2 = allObjects[j];\n\n      if (obj1.isCollidedWith(obj2) &&\n          !(obj1 instanceof Enemy && obj2 instanceof Enemy) &&\n          (obj1 instanceof Enemy || obj2 instanceof Enemy)) {\n\n        // debugger\n        var obj1Life = obj1.life;\n        var obj2Life = obj2.life;\n\n        obj1.life -= obj2Life;\n        obj2.life -= obj1Life;\n      }\n    }\n  }\n  this.remove();\n};\n\nGame.prototype.reduceLife = function (obj1, obj2) {\n  var obj1Life = obj1.life;\n  var obj2Life = obj2.life;\n\n  obj1.life -= obj2Life;\n  obj2.life -= obj1Life;\n\n  this.remove();\n};\n\nGame.prototype.remove = function () {\n  var that = this;\n  // debugger\n  this.allObjects().forEach(function (object) {\n    if (object.life <= 0){\n      if (object instanceof Orb) {\n        throw \"Game Over\";\n      } else if (object instanceof SmallOrb){\n        that.smallOrbs.splice(that.smallOrbs.indexOf(object), 1);\n      } else if (object instanceof Enemy) {\n        that.enemies.splice(that.enemies.indexOf(object), 1);\n      }\n    }\n  });\n};\n\nGame.prototype.orbTimeRefill = function () {\n  var that = this;\n  setInterval(function () {\n\n    if (that.orb.orbTime < 80){\n      that.orb.orbTime += 0.5;\n    }\n  }, 150);\n};\n\n\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 2\n ** module chunks = 0\n **/","\nvar inherits = function(childClass, superClass){\n  var Surrogate = function(){};\n  Surrogate.prototype = superClass.prototype;\n  childClass.prototype = new Surrogate();\n  childClass.prototype.constructor = childClass;\n};\n\nfunction randomVec(len) {\n  var x = Math.random()*len;\n  x *= Math.floor(Math.random()*2) == 1 ? 1 : -1;\n\n  var y = Math.sqrt(len * len - x * x);\n  y *= Math.floor(Math.random()*2) == 1 ? 1 : -1;\n\n  return [x, y];\n}\n\nfunction randomPos() {\n  var x;\n  var y;\n\n  if (Math.random() * 100 < 25){\n    x = 800;\n    y = Math.random() * 800;\n  } else if (Math.random() * 100 >= 25 && Math.random() *100 < 50){\n    x = Math.random() * 800;\n    y = 800;\n  } else if (Math.random() * 100 >= 50 && Math.random() *100 < 75){\n    x = 0;\n    y = Math.random() * 800;\n  } else if (Math.random() * 100 >= 75 && Math.random() *100 < 100){\n    x = Math.random() * 800;\n    y = 0;\n  }\n\n  return [x, y];\n}\n\nfunction dist (pos1, pos2) {\n  return Math.sqrt(\n    Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2)\n  );\n}\n\nmodule.exports = {\n  inherits: inherits,\n  randomVec: randomVec,\n  randomPos: randomPos,\n  dist: dist\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/utils.js\n ** module id = 3\n ** module chunks = 0\n **/","var Utils = require('./utils');\n\nvar MovingObject = function (params) {\n  this.pos = params.pos;\n  this.vel = params.vel;\n  this.radius = params.radius;\n  this.color = params.color;\n  this.game = params.game;\n};\n\nMovingObject.prototype.draw = function (ctx) {\n  ctx.beginPath();\n  ctx.arc(this.pos[0], this.pos[1], this.radius, 0, Math.PI * 2);\n  ctx.fillStyle = this.color;\n  ctx.fill();\n};\n\nMovingObject.prototype.move = function () {\n    this.pos[0] += this.vel[0];\n    this.pos[1] += this.vel[1];\n};\n\n\nMovingObject.prototype.isCollidedWith = function (otherObject) {\n  var centerDist = Utils.dist(this.pos, otherObject.pos);\n  return centerDist < (this.radius + otherObject.radius);\n};\n\n\nmodule.exports = MovingObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/moving_object.js\n ** module id = 4\n ** module chunks = 0\n **/","var Utils = require('./utils.js');\nvar MovingObject = require('./moving_object');\n\nvar SmallOrb = function (game) {\n  this.color = \"#FFEC8B\";\n  this.radius = 10;\n  this.game = game;\n  this.vel = Utils.randomVec(5);\n  this.pos = [400, 400];\n  this.clicked = false;\n  this.life = 200;\n  this.moves = [];\n  var that = this;\n\n  window.setTimeout( function() { that.vel = [0, 0]; }, 500);\n};\n\nUtils.inherits(SmallOrb, MovingObject);\n\n// SmallOrb.prototype.draw = function(ctx){\n//   ctx.beginPath();\n//   ctx.arc(this.pos[0], this.pos[1], this.RADIUS, 0, Math.PI * 2);\n//   ctx.fillStyle = this.COLOR;\n//   ctx.fill();\n// };\n\nSmallOrb.prototype.power = function (impulse) {\n  this.vel[0] += impulse[0];\n  this.vel[1] += impulse[1];\n};\n\nSmallOrb.prototype.includesPos = function (mousePosX, mousePosY, ctx) {\n  var dx = mousePosX - this.pos[0];\n  var dy = mousePosY - this.pos[1];\n\n  if (Math.sqrt((dx * dx) + (dy * dy)) < this.radius){\n    return true;\n  } else {\n    return false;\n  }\n};\n\nSmallOrb.prototype.mouseMove = function (mousePosX, mousePosY) {\n\n    this.moves.push([mousePosX, mousePosY]);\n\n    this.pos[0] = mousePosX;\n    this.pos[1] = mousePosY;\n};\n\nSmallOrb.prototype.setVel = function (moves) {\n  var last = moves.length - 1;\n  var lastPos = moves[last];\n  var secondLastPos = moves[last - 1];\n\n  var velx = lastPos[0] - secondLastPos[0];\n  var vely = lastPos[1] - secondLastPos[1];\n\n  this.vel = [velx/2, vely/2];\n};\n \n\n\nmodule.exports = SmallOrb;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/small_orb.js\n ** module id = 5\n ** module chunks = 0\n **/","var Utils = require('./utils');\n\nvar Orb = function (game) {\n  this.pos = [400, 400];\n  this.radius = 40;\n  this.color = \"#BBFFFF\";\n  this.game = game;\n  this.life = 1000;\n  this.orbTime = 80;\n};\n\nOrb.prototype.draw = function(ctx){\n  ctx.beginPath();\n  ctx.arc(this.pos[0], this.pos[1], this.radius, 0, Math.PI * 2);\n  ctx.fillStyle = this.color;\n  ctx.fill();\n};\n\n\nOrb.prototype.isCollidedWith = function (otherObject) {\n  var centerDist = Utils.dist(this.pos, otherObject.pos);\n  return centerDist < (this.radius + otherObject.radius);\n};\n\nmodule.exports = Orb;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/orb.js\n ** module id = 6\n ** module chunks = 0\n **/","var Utils = require('./utils');\nvar MovingObject = require('./moving_object');\n\nvar Enemy = function () {\n  this.color = \"black\";\n  this.radius = 15;\n  this.pos = Utils.randomPos();\n  this.vel = this.findVec();\n\n  this.life = 100;\n};\n\nUtils.inherits(Enemy, MovingObject);\n\nEnemy.prototype.findVec = function () {\n\n  var x = 400 - this.pos[0];\n  var y = 400 - this.pos[1];\n\n  var frac = x/y;\n\n  if (x < 0 && y < 0) {\n    x = -(frac);\n    y = -1;\n  } else if (y < 0){\n    x = -(frac);\n    y = -1;\n  } else {\n    x = frac;\n    y = 1;\n  }\n\n  return [x, y];\n};\n\nEnemy.prototype.draw = function (ctx) {\n  ctx.beginPath();\n  ctx.arc(this.pos[0], this.pos[1], this.radius, 0, Math.PI * 2);\n  ctx.fillStyle = this.color;\n  ctx.fill();\n};\n\n\nmodule.exports = Enemy;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/enemy.js\n ** module id = 7\n ** module chunks = 0\n **/","var OrbTimeBar = function (orb) {\n  this.orb = orb;\n  this.color = \"red\";\n};\n\nOrbTimeBar.prototype.getTime = function () {\n  return this.orb.orbTime * 4;\n};\n\nOrbTimeBar.prototype.draw = function (ctx) {\n  ctx.beginPath();\n  ctx.fillStyle = this.color;\n  // debugger\n  ctx.fillRect(240, 750, this.getTime(), 50);\n};\n\nmodule.exports = OrbTimeBar;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/orb_time_bar.js\n ** module id = 8\n ** module chunks = 0\n **/"],"sourceRoot":""}